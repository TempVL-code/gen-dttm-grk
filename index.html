<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤</title>
<style>
body { font-family: Arial, sans-serif; max-width: 700px; margin: 30px auto; }
textarea { width: 100%; height: 200px; }
button { padding: 10px 20px; margin-top: 10px; }
pre { background: #f4f4f4; padding: 10px; }
</style>
</head>
<body>

<h2>üîÅ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –Ω–æ–º–µ—Ä—ñ–≤</h2>

<textarea placeholder="–í—Å—Ç–∞–≤ —á–∏—Å–ª–∞ —Å—é–¥–∏ (Ctrl+V) –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂ CSV"></textarea>

<br>
<input type="file" accept=".csv">
<br><br>

<button onclick="checkDuplicates()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>

<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h3>
<pre id="result"></pre>

<script>
function parseText(text) {
  return text
    .split(/[\s,;]+/)
    .map(x => x.trim())
    .filter(x => x.length > 0);
}

function checkDuplicates() {
  const textarea = document.querySelector("textarea");
  const numbers = parseText(textarea.value);

  const map = {};
  numbers.forEach(n => map[n] = (map[n] || 0) + 1);

  let output = "";
  for (const [num, count] of Object.entries(map)) {
    if (count > 1) {
      output += `${num} ‚Äî ${count} —Ä–∞–∑–∏\n`;
    }
  }

  document.getElementById("result").textContent =
    output || "–î—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ";
}

document.querySelector("input[type=file]").addEventListener("change", e => {
  const file = e.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = () => {
    document.querySelector("textarea").value = reader.result;
  };
  reader.readAsText(file);
});
</script>

</body>
</html>
